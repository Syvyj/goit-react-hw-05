{"version":3,"file":"MoviesPage-C73JI13z.js","sources":["../../src/pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMovies } from '../../services/api';\nimport MovieList from '../../components/MovieList/MovieList';\nimport styles from './MoviesPage.module.css';\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!query) return;\n\n    const fetchMovies = async () => {\n      try {\n        const searchResults = await searchMovies(query);\n        setMovies(searchResults);\n        setError(null);\n      } catch (error) {\n        setError('Failed to fetch movies');\n        console.error(error);\n      }\n    };\n\n    fetchMovies();\n  }, [query]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const searchQuery = form.elements.query.value.trim();\n\n    if (searchQuery === '') {\n      return setError('Please enter a search query');\n    }\n\n    setSearchParams({ query: searchQuery });\n    form.reset();\n  };\n\n  return (\n    <div className={styles.container}>\n      <form className={styles.searchForm} onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"query\"\n          className={styles.searchInput}\n          placeholder=\"Search movies...\"\n          defaultValue={query}\n        />\n        <button type=\"submit\" className={styles.searchButton}>\n          Search\n        </button>\n      </form>\n\n      {error && <div className={styles.error}>{error}</div>}\n      {movies.length > 0 && <MovieList movies={movies} />}\n    </div>\n  );\n};\n\nexport default MoviesPage;"],"names":["MoviesPage","searchParams","setSearchParams","useSearchParams","movies","setMovies","useState","error","setError","query","useEffect","searchResults","searchMovies","handleSubmit","e","form","searchQuery","jsxs","styles","jsx","MovieList"],"mappings":"wUAMMA,EAAa,IAAM,CACvB,KAAM,CAACC,EAAcC,CAAe,EAAIC,EAAgB,EAClD,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAAS,CAAA,CAAE,EACjC,CAACC,EAAOC,CAAQ,EAAIF,EAAAA,SAAS,IAAI,EACjCG,EAAQR,EAAa,IAAI,OAAO,GAAK,GAE3CS,EAAAA,UAAU,IAAM,CACd,GAAI,CAACD,EAAO,QAEQ,SAAY,CAC1B,GAAA,CACI,MAAAE,EAAgB,MAAMC,EAAaH,CAAK,EAC9CJ,EAAUM,CAAa,EACvBH,EAAS,IAAI,QACND,EAAO,CACdC,EAAS,wBAAwB,EACjC,QAAQ,MAAMD,CAAK,CAAA,CAEvB,GAEY,CAAA,EACX,CAACE,CAAK,CAAC,EAEJ,MAAAI,EAAgBC,GAAM,CAC1BA,EAAE,eAAe,EACjB,MAAMC,EAAOD,EAAE,cACTE,EAAcD,EAAK,SAAS,MAAM,MAAM,KAAK,EAEnD,GAAIC,IAAgB,GAClB,OAAOR,EAAS,6BAA6B,EAG/BN,EAAA,CAAE,MAAOc,EAAa,EACtCD,EAAK,MAAM,CACb,EAEA,OACGE,EAAAA,KAAA,MAAA,CAAI,UAAWC,EAAO,UACrB,SAAA,CAAAD,OAAC,OAAK,CAAA,UAAWC,EAAO,WAAY,SAAUL,EAC5C,SAAA,CAAAM,EAAA,IAAC,QAAA,CACC,KAAK,OACL,KAAK,QACL,UAAWD,EAAO,YAClB,YAAY,mBACZ,aAAcT,CAAA,CAChB,QACC,SAAO,CAAA,KAAK,SAAS,UAAWS,EAAO,aAAc,SAEtD,QAAA,CAAA,CAAA,EACF,EAECX,GAAUY,EAAAA,IAAA,MAAA,CAAI,UAAWD,EAAO,MAAQ,SAAMX,EAAA,EAC9CH,EAAO,OAAS,GAAKe,EAAA,IAACC,GAAU,OAAAhB,CAAgB,CAAA,CAAA,EACnD,CAEJ"}