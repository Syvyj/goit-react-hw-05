import{u as p,r as c,j as r}from"./index-DySdoKH5.js";import{s as _}from"./api-B4FcrEsS.js";import{M as v}from"./MovieList-CY_qkQvt.js";const y="_container_1aur9_1",d="_searchForm_1aur9_5",x="_searchInput_1aur9_15",j="_searchButton_1aur9_32",S="_error_1aur9_52",s={container:y,searchForm:d,searchInput:x,searchButton:j,error:S},N=()=>{const[h,m]=p(),[n,l]=c.useState([]),[u,a]=c.useState(null),t=h.get("query")??"";c.useEffect(()=>{if(!t)return;(async()=>{try{const e=await _(t);l(e),a(null)}catch(e){a("Failed to fetch movies"),console.error(e)}})()},[t]);const f=o=>{o.preventDefault();const e=o.currentTarget,i=e.elements.query.value.trim();if(i==="")return a("Please enter a search query");m({query:i}),e.reset()};return r.jsxs("div",{className:s.container,children:[r.jsxs("form",{className:s.searchForm,onSubmit:f,children:[r.jsx("input",{type:"text",name:"query",className:s.searchInput,placeholder:"Search movies...",defaultValue:t}),r.jsx("button",{type:"submit",className:s.searchButton,children:"Search"})]}),u&&r.jsx("div",{className:s.error,children:u}),n.length>0&&r.jsx(v,{movies:n})]})};export{N as default};
//# sourceMappingURL=MoviesPage-C73JI13z.js.map
