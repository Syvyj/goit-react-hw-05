{"version":3,"file":"MovieDetailsPage-BANEPeY-.js","sources":["../../src/pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import { useState, useEffect, Suspense } from 'react';\nimport { useParams, useLocation, Link, Outlet } from 'react-router-dom';\nimport { getMovieDetails } from '../../services/api';\nimport { IMG_BASE_URL } from '../../services/api';\nimport styles from './MovieDetailsPage.module.css';\n\nconst MovieDetailsPage = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  const backLinkHref = location.state?.from ?? '/movies';\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      try {\n        const movieData = await getMovieDetails(movieId);\n        setMovie(movieData);\n      } catch (error) {\n        setError('Failed to fetch movie details');\n        console.error(error);\n      }\n    };\n\n    fetchMovieDetails();\n  }, [movieId]);\n\n  if (error) return <div className={styles.error}>{error}</div>;\n  if (!movie) return <div className={styles.loading}>Loading...</div>;\n\n  const { title, poster_path, vote_average, overview, genres, release_date } = movie;\n\n  return (\n    <div className={styles.container}>\n      <Link to={backLinkHref} className={styles.backLink}>\n        ‚Üê Go back\n      </Link>\n      \n      <div className={styles.movieInfo}>\n        <img\n          src={poster_path ? `${IMG_BASE_URL}${poster_path}` : 'https://via.placeholder.com/300x450'}\n          alt={title}\n          className={styles.poster}\n        />\n        \n        <div className={styles.details}>\n          <h1>{title} ({release_date?.split('-')[0]})</h1>\n          <div className={styles.score}>User Score: {Math.round(vote_average * 10)}%</div>\n          \n          <h2>Overview</h2>\n          <p className={styles.overview}>{overview}</p>\n          \n          <h2>Genres</h2>\n          <div className={styles.genres}>\n            {genres?.map(genre => (\n              <span key={genre.id} className={styles.genre}>\n                {genre.name}\n              </span>\n            ))}\n          </div>\n\n          <div className={styles.additionalInfo}>\n            <h3>Additional information</h3>\n            <ul>\n              <li>\n                <Link to=\"cast\" state={{ from: backLinkHref }}>Cast</Link>\n              </li>\n              <li>\n                <Link to=\"reviews\" state={{ from: backLinkHref }}>Reviews</Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <Suspense fallback={<div className={styles.loading}>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetailsPage;"],"names":["MovieDetailsPage","movieId","useParams","location","useLocation","movie","setMovie","useState","error","setError","backLinkHref","_a","useEffect","movieData","getMovieDetails","jsx","styles","title","poster_path","vote_average","overview","genres","release_date","jsxs","Link","IMG_BASE_URL","genre","Suspense","Outlet"],"mappings":"4gBAMMA,EAAmB,IAAM,OACvB,KAAA,CAAE,QAAAC,CAAQ,EAAIC,EAAU,EACxBC,EAAWC,EAAY,EACvB,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,IAAI,EACjC,CAACC,EAAOC,CAAQ,EAAIF,EAAAA,SAAS,IAAI,EACjCG,IAAeC,EAAAR,EAAS,QAAT,YAAAQ,EAAgB,OAAQ,UAgB7C,GAdAC,EAAAA,UAAU,IAAM,EACY,SAAY,CAChC,GAAA,CACI,MAAAC,EAAY,MAAMC,EAAgBb,CAAO,EAC/CK,EAASO,CAAS,QACXL,EAAO,CACdC,EAAS,+BAA+B,EACxC,QAAQ,MAAMD,CAAK,CAAA,CAEvB,GAEkB,CAAA,EACjB,CAACP,CAAO,CAAC,EAERO,EAAc,OAAAO,EAAA,IAAC,OAAI,UAAWC,EAAO,MAAQ,SAAMR,EAAA,EACnD,GAAA,CAACH,EAAc,OAAAU,EAAA,IAAC,OAAI,UAAWC,EAAO,QAAS,SAAU,aAAA,EAE7D,KAAM,CAAE,MAAAC,EAAO,YAAAC,EAAa,aAAAC,EAAc,SAAAC,EAAU,OAAAC,EAAQ,aAAAC,GAAiBjB,EAE7E,OACGkB,EAAAA,KAAA,MAAA,CAAI,UAAWP,EAAO,UACrB,SAAA,CAAAD,MAACS,GAAK,GAAId,EAAc,UAAWM,EAAO,SAAU,SAEpD,YAAA,EAECO,EAAA,KAAA,MAAA,CAAI,UAAWP,EAAO,UACrB,SAAA,CAAAD,EAAA,IAAC,MAAA,CACC,IAAKG,EAAc,GAAGO,CAAY,GAAGP,CAAW,GAAK,sCACrD,IAAKD,EACL,UAAWD,EAAO,MAAA,CACpB,EAECO,EAAA,KAAA,MAAA,CAAI,UAAWP,EAAO,QACrB,SAAA,CAAAO,OAAC,KAAI,CAAA,SAAA,CAAAN,EAAM,KAAGK,GAAA,YAAAA,EAAc,MAAM,KAAK,GAAG,GAAA,EAAC,EAC1CC,EAAA,KAAA,MAAA,CAAI,UAAWP,EAAO,MAAO,SAAA,CAAA,eAAa,KAAK,MAAMG,EAAe,EAAE,EAAE,GAAA,EAAC,EAE1EJ,EAAAA,IAAC,MAAG,SAAQ,UAAA,CAAA,EACXA,EAAA,IAAA,IAAA,CAAE,UAAWC,EAAO,SAAW,SAASI,EAAA,EAEzCL,EAAAA,IAAC,MAAG,SAAM,QAAA,CAAA,QACT,MAAI,CAAA,UAAWC,EAAO,OACpB,SAAAK,GAAA,YAAAA,EAAQ,IACPK,GAAAX,EAAA,IAAC,OAAoB,CAAA,UAAWC,EAAO,MACpC,SAAAU,EAAM,MADEA,EAAM,EAEjB,GAEJ,EAECH,EAAA,KAAA,MAAA,CAAI,UAAWP,EAAO,eACrB,SAAA,CAAAD,EAAAA,IAAC,MAAG,SAAsB,wBAAA,CAAA,SACzB,KACC,CAAA,SAAA,CAACA,EAAA,IAAA,KAAA,CACC,SAACA,EAAAA,IAAAS,EAAA,CAAK,GAAG,OAAO,MAAO,CAAE,KAAMd,CAAA,EAAgB,SAAA,MAAI,CAAA,EACrD,EACCK,EAAA,IAAA,KAAA,CACC,SAACA,EAAAA,IAAAS,EAAA,CAAK,GAAG,UAAU,MAAO,CAAE,KAAMd,CAAgB,EAAA,SAAA,SAAA,CAAO,CAC3D,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAECK,EAAA,IAAAY,EAAA,SAAA,CAAS,SAAUZ,EAAA,IAAC,MAAI,CAAA,UAAWC,EAAO,QAAS,SAAU,YAAA,CAAA,EAC5D,SAACD,EAAAA,IAAAa,EAAA,CAAA,CAAO,CACV,CAAA,CAAA,EACF,CAEJ"}