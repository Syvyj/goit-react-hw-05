import{b as g,a as k,r as o,j as e,L as c,O as N}from"./index-DySdoKH5.js";import{I as q,a as I}from"./api-B4FcrEsS.js";const L="_container_1uq26_1",w="_backLink_1uq26_5",b="_movieInfo_1uq26_24",M="_poster_1uq26_34",D="_details_1uq26_42",E="_score_1uq26_52",S="_overview_1uq26_67",y="_genres_1uq26_72",G="_genre_1uq26_72",O="_additionalInfo_1uq26_86",R="_loading_1uq26_118",A="_error_1uq26_124",s={container:L,backLink:w,movieInfo:b,poster:M,details:D,score:E,overview:S,genres:y,genre:G,additionalInfo:O,loading:R,error:A},$=()=>{var h;const{movieId:l}=g(),x=k(),[d,u]=o.useState(null),[v,j]=o.useState(null),i=((h=x.state)==null?void 0:h.from)??"/movies";if(o.useEffect(()=>{(async()=>{try{const t=await I(l);u(t)}catch(t){j("Failed to fetch movie details"),console.error(t)}})()},[l]),v)return e.jsx("div",{className:s.error,children:v});if(!d)return e.jsx("div",{className:s.loading,children:"Loading..."});const{title:_,poster_path:m,vote_average:f,overview:p,genres:a,release_date:n}=d;return e.jsxs("div",{className:s.container,children:[e.jsx(c,{to:i,className:s.backLink,children:"← Go back"}),e.jsxs("div",{className:s.movieInfo,children:[e.jsx("img",{src:m?`${q}${m}`:"https://via.placeholder.com/300x450",alt:_,className:s.poster}),e.jsxs("div",{className:s.details,children:[e.jsxs("h1",{children:[_," (",n==null?void 0:n.split("-")[0],")"]}),e.jsxs("div",{className:s.score,children:["User Score: ",Math.round(f*10),"%"]}),e.jsx("h2",{children:"Overview"}),e.jsx("p",{className:s.overview,children:p}),e.jsx("h2",{children:"Genres"}),e.jsx("div",{className:s.genres,children:a==null?void 0:a.map(r=>e.jsx("span",{className:s.genre,children:r.name},r.id))}),e.jsxs("div",{className:s.additionalInfo,children:[e.jsx("h3",{children:"Additional information"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(c,{to:"cast",state:{from:i},children:"Cast"})}),e.jsx("li",{children:e.jsx(c,{to:"reviews",state:{from:i},children:"Reviews"})})]})]})]})]}),e.jsx(o.Suspense,{fallback:e.jsx("div",{className:s.loading,children:"Loading..."}),children:e.jsx(N,{})})]})};export{$ as default};
//# sourceMappingURL=MovieDetailsPage-BANEPeY-.js.map
